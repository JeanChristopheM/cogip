{"mappings":"sdAuJAA,EAlJc,EAAKC,OAACA,MAClB,MAAOC,EAAMC,GAAWC,EAAAC,SAAS,MAC3BC,EAASC,EAAAC,YACTC,EAAWF,EAAAG,cAiBjBN,EAAAO,WAAS,KAhBIC,OAAUC,IACrB,IACE,MAAOC,OAACA,EAAMC,QAAEA,EAAOC,YAAEA,SAAsBC,EAAAC,QAC7C,MAAK,iDAC4CL,IACjDZ,EAAOkB,KAEM,MAAXL,EACFX,EAAQa,EAAY,IAEpBI,EAAAC,MAAMC,MAAMP,GAEd,MAAOQ,GACPC,QAAQC,IAAIF,KAIdG,CAAQpB,EAAOO,UACd,IAwBH,OAAMc,EAAAC,KACH,OAAI,kBACF,MAAG,CAACC,UAAU,uBACZ,KAAE,UAAC,oBACH3B,EAAIyB,EAAAC,KACF,OAAI,CAACE,OAAO,OAAOD,UAAU,WAAWE,SA5B/BnB,MAAUW,IAC1BA,EAAES,iBACF,MAAMC,EAAW,CACfC,UAAWX,EAAEY,OAAOD,UAAUE,MAC9BC,SAAUd,EAAEY,OAAOE,SAASD,MAC5BE,MAAOf,EAAEY,OAAOG,MAAMF,MACtBG,SAAUhB,EAAEY,OAAOK,SAASJ,MAC5BK,SAAUlB,EAAEY,OAAOM,SAASL,MAC5BM,SAAUnB,EAAEY,OAAOQ,WAAWP,OAEhC,IACE,MAAOtB,OAACA,EAAMC,QAAEA,EAAOC,YAAEA,SAAsBC,EAAAC,QAC7C,MAAK,iDAC4CZ,EAAOO,SACxDZ,EAAOkB,IACPc,GAEa,MAAXnB,EAAgBM,EAAAC,MAAMuB,QAAQ7B,GAC7BK,EAAAC,MAAMC,MAAMP,GACjB,MAAO8B,GACPrB,QAAQC,IAAIoB,sBASL,MAAG,CAAChB,UAAU,+BACZ,WAAQ,iBACN,SAAM,UAAC,6BACP,MAAG,iBACD,QAAK,CAACiB,QAAQ,qBAAY,uBAC1B,QAAK,CACJC,KAAK,OACLC,KAAK,YACLC,GAAG,YACHC,YAAY,YACZC,aAAcjD,EAAKgC,UACnBkB,WAAS,EACTC,UAAQ,cAGX,MAAG,iBACD,OAAI,CAACP,QAAQ,oBAAW,sBACxB,QAAK,CACJC,KAAK,OACLC,KAAK,WACLC,GAAG,WACHC,YAAY,WACZC,aAAcjD,EAAKmC,SACnBgB,UAAQ,cAGX,MAAG,iBACD,OAAI,CAACP,QAAQ,iBAAQ,mBACrB,QAAK,CACJC,KAAK,OACLC,KAAK,QACLC,GAAG,QACHC,YAAY,QACZC,aAAcjD,EAAKoC,MACnBe,UAAQ,iBAIb,WAAQ,iBACN,SAAM,UAAC,4BACP,MAAG,iBACD,OAAI,CAACP,QAAQ,oBAAW,sBACxB,QAAK,CACJC,KAAK,OACLC,KAAK,WACLC,GAAG,WACHC,YAAY,WACZC,aAAcjD,EAAKqC,SACnBc,UAAQ,cAGX,MAAG,iBACD,OAAI,CAACP,QAAQ,oBAAW,sBACxB,QAAK,CACJC,KAAK,WACLC,KAAK,WACLC,GAAG,WACHC,YAAY,WACZG,UAAQ,cAGX,MAAG,iBACD,OAAI,UAAC,qBACL,SAAM,CACLL,KAAK,aACLC,GAAG,aACHE,aAAcjD,EAAKwC,SACnBW,UAAQ,kBAEP,SAAM,CAACjB,MAAM,YAAG,iCAChB,SAAM,CAACA,MAAM,iBAAQ,gBACrB,SAAM,CAACA,MAAM,gBAAO,4BAK5B,MAAG,CAACP,UAAU,2BACZ,SAAM,UAAC,iBACP,SAAM,CAACkB,KAAK,SAASO,QAAO,IAAQ7C,EAAS,sBAAc,uBAM/D,MAAG,CAACoB,UAAU,+BACZ,MAAG,CAACA,UAAU,6BAIpBT,EAAAmC,eAAc","sources":["src/components/settings/UserEdit.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport handleRequests from \"../../logic/handleRequests\";\n\nconst UserEdit = ({ isAuth }) => {\n  const [user, setUser] = useState(null);\n  const params = useParams();\n  const navigate = useNavigate();\n  const getUser = async (userId) => {\n    try {\n      const { status, message, dataPackage } = await handleRequests(\n        \"GET\",\n        `https://csharpproject.somee.com/api/Auth/user/${userId}`,\n        isAuth.jwt\n      );\n      if (status === 200) {\n        setUser(dataPackage[0]);\n      } else {\n        toast.error(message);\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  useEffect(() => {\n    getUser(params.userId);\n  }, []);\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const formData = {\n      firstname: e.target.firstname.value,\n      lastname: e.target.lastname.value,\n      email: e.target.email.value,\n      userName: e.target.username.value,\n      password: e.target.password.value,\n      userType: e.target.userStatus.value,\n    };\n    try {\n      const { status, message, dataPackage } = await handleRequests(\n        \"PUT\",\n        `https://csharpproject.somee.com/api/Auth/user/${params.userId}`,\n        isAuth.jwt,\n        formData\n      );\n      if (status === 200) toast.success(message);\n      else toast.error(message);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  return (\n    <main>\n      <div className=\"card\">\n        <h2>Modify the user</h2>\n        {user ? (\n          <form method=\"post\" className=\"userForm\" onSubmit={handleSubmit}>\n            <div className=\"formContent\">\n              <fieldset>\n                <legend>User informations</legend>\n                <div>\n                  <label htmlFor=\"firstname\">Firstname : </label>\n                  <input\n                    type=\"text\"\n                    name=\"firstname\"\n                    id=\"firstname\"\n                    placeholder=\"Firstname\"\n                    defaultValue={user.firstname}\n                    autoFocus\n                    required\n                  />\n                </div>\n                <div>\n                  <span htmlFor=\"lastname\">Lastname : </span>\n                  <input\n                    type=\"text\"\n                    name=\"lastname\"\n                    id=\"lastname\"\n                    placeholder=\"Lastname\"\n                    defaultValue={user.lastname}\n                    required\n                  />\n                </div>\n                <div>\n                  <span htmlFor=\"email\">Email : </span>\n                  <input\n                    type=\"text\"\n                    name=\"email\"\n                    id=\"email\"\n                    placeholder=\"Email\"\n                    defaultValue={user.email}\n                    required\n                  />\n                </div>\n              </fieldset>\n              <fieldset>\n                <legend>User credentials</legend>\n                <div>\n                  <span htmlFor=\"username\">Username : </span>\n                  <input\n                    type=\"text\"\n                    name=\"username\"\n                    id=\"username\"\n                    placeholder=\"Username\"\n                    defaultValue={user.userName}\n                    required\n                  />\n                </div>\n                <div>\n                  <span htmlFor=\"Password\">Password : </span>\n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    id=\"password\"\n                    placeholder=\"Password\"\n                    required\n                  />\n                </div>\n                <div>\n                  <span>Status : </span>\n                  <select\n                    name=\"userStatus\"\n                    id=\"userStatus\"\n                    defaultValue={user.userType}\n                    required\n                  >\n                    <option value=\"\">-Select a user status-</option>\n                    <option value=\"Admin\">Admin</option>\n                    <option value=\"User\">User</option>\n                  </select>\n                </div>\n              </fieldset>\n            </div>\n            <div className=\"controls\">\n              <button>Submit</button>\n              <button type=\"button\" onClick={() => navigate(\"/settings\")}>\n                Cancel\n              </button>\n            </div>\n          </form>\n        ) : (\n          <div className=\"fetcherHolder\">\n            <div className=\"lds-dual-ring\"></div>\n          </div>\n        )}\n      </div>\n      <ToastContainer />\n    </main>\n  );\n};\n\nexport default UserEdit;\n"],"names":["$bff8d1b358b7515f$export$2e2bcd8739ae039","isAuth","user","setUser","$eCRxs","useState","params","$kYfAi","useParams","navigate","useNavigate","useEffect","async","userId","status","message","dataPackage","$9aCo1","default","jwt","$dv2Dk","toast","error","e","console","log","getUser","$7C6UD","jsxs","className","method","onSubmit","preventDefault","formData","firstname","target","value","lastname","email","userName","username","password","userType","userStatus","success","e1","htmlFor","type","name","id","placeholder","defaultValue","autoFocus","required","onClick","ToastContainer"],"version":3,"file":"UserEdit.b2a3cd95.js.map"}
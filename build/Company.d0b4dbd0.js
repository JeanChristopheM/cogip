function e(e,s,n,a){Object.defineProperty(e,s,{get:n,set:a,enumerable:!0,configurable:!0})}var s=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire30d9;s.register("dZ5IG",(function(n,a){var t;t=n.exports,Object.defineProperty(t,"__esModule",{value:!0,configurable:!0}),e(n.exports,"default",(()=>u));var l=s("7C6UD"),i=s("eCRxs"),c=s("kYfAi");s("5H5kc");var r=s("9aCo1"),d=s("llL4i"),o=s("6P85y"),m=s("dv2Dk");var u=function({companies:e,contacts:s,setIsLoaded:n,isAuth:a}){const t=e.length>0,u=c.useParams(),p=c.useNavigate(),h=e.find((e=>e.id==u.companyId)),[x,j]=i.useState(!1),[y,f]=i.useState(!1),[b,N]=i.useState(!1);i.useEffect((()=>{h||p("/companies")}),[e]);const v=i.useRef(),_=i.useRef(),g=i.useRef(),C=i.useRef(),G=i.useRef(),P=i.useRef(),S=i.useRef(),k=i.useRef();return l.jsxs("main",{children:[!b&&t&&h?l.jsxs("div",{className:"card",children:[l.jsx("h2",{children:"Details :"}),l.jsx("div",{className:"companyGrid",children:x?l.jsxs(l.Fragment,{children:[l.jsxs("section",{className:"companyGrid__section",children:[l.jsxs("div",{className:"companyGrid__section--child name",children:[l.jsx("span",{className:"labels",children:"Name : "}),l.jsx("input",{type:"text",name:"companyName",defaultValue:h.name,ref:v,required:!0})]}),l.jsxs("div",{className:"companyGrid__section--child",children:[l.jsx("span",{className:"labels",children:"VAT : "}),l.jsx("input",{type:"text",name:"companyVat",defaultValue:h.vat,ref:_,required:!0})]}),l.jsxs("div",{className:"companyGrid__section--child",children:[l.jsx("span",{className:"labels",children:"Status : "}),l.jsxs("select",{name:"companyStatus",ref:g,defaultValue:h.status,required:!0,children:[l.jsx("option",{value:"",children:"Select a status"}),l.jsx("option",{value:"Supplier",children:"Supplier"}),l.jsx("option",{value:"Customer",children:"Customer"})]})]})]}),l.jsxs("section",{className:"companyGrid__section adress",children:[l.jsx("h3",{children:"Where"}),l.jsxs("div",{className:"companyGrid__section--child adress",children:[l.jsxs("label",{htmlFor:"streetnumber",className:"labels",children:["Street Number :"," "]}),l.jsx("input",{type:"text",id:"streetnumber",name:"streetnumber",ref:C,defaultValue:h.streetnumber})]}),l.jsxs("div",{className:"companyGrid__section--child adress",children:[l.jsxs("label",{htmlFor:"street",className:"labels",children:["Street :"," "]}),l.jsx("input",{type:"text",id:"street",name:"street",ref:G,defaultValue:h.street})]}),l.jsxs("div",{className:"companyGrid__section--child adress",children:[l.jsxs("label",{htmlFor:"town",className:"labels",children:["Town :"," "]}),l.jsx("input",{type:"text",id:"town",name:"town",ref:P,defaultValue:h.town})]}),l.jsxs("div",{className:"companyGrid__section--child adress",children:[l.jsxs("label",{htmlFor:"zip",className:"labels",children:["Zip Code :"," "]}),l.jsx("input",{type:"text",id:"zip",name:"zip",ref:k,defaultValue:h.zip})]}),l.jsxs("div",{className:"companyGrid__section--child adress",children:[l.jsxs("label",{htmlFor:"country",className:"labels",children:["Country :"," "]}),l.jsx("input",{type:"text",id:"country",name:"country",ref:S,defaultValue:h.country})]})]}),l.jsxs("section",{className:"companyGrid__section",children:[l.jsx("h3",{children:"Contacts"}),l.jsx("div",{className:"companyGrid__section--child",children:h.contacts.length>0?l.jsx("ul",{children:s.map((e=>{if(e.companies.includes(h.id))return l.jsx("li",{onClick:()=>{p(`/contact/${e.id}`)},style:{cursor:"pointer"},children:`${e.firstname} ${e.lastname}`},e.id)}))}):l.jsx("span",{children:"None"})})]}),l.jsx("section",{className:"decoration",children:l.jsx(o.default,{})})]}):l.jsxs(l.Fragment,{children:[l.jsxs("section",{className:"companyGrid__section",children:[l.jsxs("div",{className:"companyGrid__section--child name",children:[l.jsx("span",{className:"labels",children:"Name : "}),l.jsx("span",{id:"companyName",children:h.name})]}),l.jsxs("div",{className:"companyGrid__section--child",children:[l.jsx("span",{className:"labels",children:"VAT : "}),l.jsx("span",{id:"companyVat",children:h.vat})]}),l.jsxs("div",{className:"companyGrid__section--child",children:[l.jsx("span",{className:"labels",children:"Status : "}),l.jsx("span",{id:"companyStatus",children:h.status})]})]}),l.jsxs("section",{className:"companyGrid__section adress",children:[l.jsx("h3",{children:"Where"}),l.jsxs("div",{className:"companyGrid__section--child",children:[l.jsx("span",{className:"labels",children:"Number : "}),l.jsx("span",{children:h.streetnumber})]}),l.jsxs("div",{className:"companyGrid__section--child",children:[l.jsx("span",{className:"labels",children:"Street : "}),l.jsx("span",{children:h.street})]}),l.jsxs("div",{className:"companyGrid__section--child",children:[l.jsx("span",{className:"labels",children:"Town : "}),l.jsx("span",{children:h.town})]}),l.jsxs("div",{className:"companyGrid__section--child",children:[l.jsx("span",{className:"labels",children:"Zip Code : "}),l.jsx("span",{children:h.zip})]}),l.jsxs("div",{className:"companyGrid__section--child",children:[l.jsx("span",{className:"labels",children:"Country : "}),l.jsx("span",{children:h.country})]})]}),l.jsxs("section",{className:"companyGrid__section",children:[l.jsx("h3",{children:"Contacts"}),l.jsx("div",{className:"companyGrid__section--child",children:h.contacts.length>0?l.jsx("ul",{children:s.map((e=>{if(e.companies.includes(h.id))return l.jsx("li",{onClick:()=>{p(`/contact/${e.id}`)},style:{cursor:"pointer"},children:`${e.firstname} ${e.lastname}`},e.id)}))}):l.jsx("span",{children:"None"})})]}),l.jsx("section",{className:"decoration",children:l.jsx(o.default,{})})]})}),"Admin"==a.role?l.jsx(d.default,{isModifying:x,isDeleting:y,setIsDeleting:f,setIsModifying:j,handleModif:async()=>{const e={name:v.current.value,vat:_.current.value,status:g.current.value,streetnumber:C.current.value,street:G.current.value,town:P.current.value,country:S.current.value,zip:k.current.value,contacts:[]};console.log(e)},handleDelete:async()=>{N(!0);const{status:e,message:s}=await r.default("DELETE",`https://csharpproject.somee.com/api/Company/${h.id}`,a.jwt);N(!1),200!==e&&m.toast.error("There was an error deleting this company",{position:m.toast.POSITION.BOTTOM_RIGHT}),sessionStorage.setItem("cogipToast","Success !"),f(!1),n(!1)},company:h}):""]}):l.jsx("div",{className:"fetching",children:l.jsx("div",{className:"lds-dual-ring"})}),l.jsx(m.ToastContainer,{})]})}})),s.register("5H5kc",(function(s,n){e(s.exports,"invoiceVerify",(()=>a)),e(s.exports,"contactVerify",(()=>t)),e(s.exports,"companyVerify",(()=>l));const a=e=>{let s={};return e.reference||(s.reference="Please enter a reference"),e.company||(s.company="Please select a company"),e.amount||(s.amount="Please enter an amount"),e.received||(s.received="Please select a date"),!1!==e.paidStatus&&!0!==e.paidStatus&&(s.paid="Please select a paid status"),s.ok=!(Object.keys(s).length>0),s},t=e=>{let s={};return e.firstname||(s.firstname="Please enter a firstname"),e.lastname||(s.lastname="Please enter a lastname"),e.companies||(s.companies="Please select a contact"),e.email||(s.email="Please enter an email"),e.phonenumber||(s.phonenumber="Please enter a phone number"),s.ok=!(Object.keys(s).length>0),s},l=e=>{let s={};return e.name||(s.name="Please enter a name"),e.vat||(s.vat="Please enter a vat number"),e.town||(s.town="Please enter a town"),e.street||(s.street="Please enter a street"),e.streetnumber||(s.streetnumber="Please enter a street number"),e.country||(s.country="Please enter a country"),e.status||(s.status="Please select a status"),s.ok=!(Object.keys(s).length>0),s}})),s.register("llL4i",(function(n,a){e(n.exports,"default",(()=>l));var t=s("7C6UD");var l=function({isModifying:e,isDeleting:s,setIsModifying:n,setIsDeleting:a,handleModif:l,handleDelete:i}){return e?t.jsxs("div",{className:"companyControls",children:[t.jsx("button",{type:"button",onClick:l,children:"Submit"}),t.jsx("button",{type:"button",onClick:()=>{n(!1)},children:"Cancel"})]}):s?t.jsxs("div",{className:"companyControls",children:[t.jsx("button",{type:"button",onClick:i,children:"Confirm"}),t.jsx("button",{type:"button",onClick:()=>{a(!1)},children:"Cancel"})]}):t.jsxs("div",{className:"companyControls",children:[t.jsx("button",{type:"button",onClick:()=>{n(!0)},children:"Modify"}),t.jsx("button",{type:"button",onClick:()=>{a(!0)},children:"Delete"})]})}}));
//# sourceMappingURL=Company.d0b4dbd0.js.map

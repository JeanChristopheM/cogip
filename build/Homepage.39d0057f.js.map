{"mappings":"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","sources":["src/components/dashboard/Homepage.jsx","src/components/reusables/Chart.jsx","src/components/dashboard/LastFiveInvoices.jsx","src/components/reusables/InvoiceLi.jsx","src/logic/dateFormatter.js","src/components/dashboard/LastFiveContacts.jsx","src/components/reusables/ContactLi.jsx","src/components/dashboard/LastFiveCompanies.jsx","src/components/reusables/CompanyLi.jsx"],"sourcesContent":["import React from \"react\";\n\nimport Chart from \"../reusables/Chart.jsx\";\nimport LastFiveInvoices from \"./LastFiveInvoices.jsx\";\nimport LastFiveContacts from \"./LastFiveContacts.jsx\";\nimport LastFiveCompanies from \"./LastFiveCompanies.jsx\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Homepage({ companies, invoices, contacts, setPage, setInvoiceId }) {\n  const navigate = useNavigate();\n  const handleAdd = (e) => {\n    navigate(`/${e.target.id}`);\n  };\n\n  /* Sorting data to get 5 latest addition */\n  invoices.sort((a, b) => {\n    return new Date(b.received) - new Date(a.received);\n  });\n  contacts.sort((a, b) => {\n    return new Date(b.added) - new Date(a.added);\n  });\n  companies.sort((a, b) => {\n    return new Date(b.added) - new Date(a.added);\n  });\n\n  return (\n    <main className=\"homepage\">\n      <LastFiveInvoices\n        handleAdd={handleAdd}\n        navigate={navigate}\n        invoices={invoices}\n        companies={companies}\n        setPage={setPage}\n        setInvoiceId={setInvoiceId}\n      />\n      <LastFiveContacts\n        handleAdd={handleAdd}\n        navigate={navigate}\n        contacts={contacts}\n        companies={companies}\n      />\n      <LastFiveCompanies\n        handleAdd={handleAdd}\n        navigate={navigate}\n        companies={companies}\n      />\n\n      <section className=\"chart card\">\n        <h2>Payement Status</h2>\n        <div className=\"canvasContainer\">\n          {invoices.length > 0 ? (\n            <Chart invoices={invoices} />\n          ) : (\n            <div className=\"spinner-centerer\">\n              <div className=\"lds-dual-ring\"></div>\n            </div>\n          )}\n        </div>\n      </section>\n    </main>\n  );\n}\n\nexport default Homepage;\n","import { Chart as ChartJS, ArcElement, Tooltip, Legend } from \"chart.js\";\nimport { Pie } from \"react-chartjs-2\";\n\nChartJS.register(ArcElement, Tooltip, Legend);\n\nconst Chart = ({ invoices }) => {\n  let paid, unpaid;\n  if (invoices.length > 0) {\n    paid = invoices.reduce((tally, invoice) => {\n      if (invoice.paidStatus) return tally + 1;\n      return tally;\n    }, 0);\n    unpaid = invoices.reduce((tally, invoice) => {\n      if (!invoice.paidStatus) return tally + 1;\n      return tally;\n    }, 0);\n  }\n  const primaryColor =\n    document.documentElement.style.getPropertyValue(\"--clr-text\") || \"#274c77\";\n  const secondaryColor =\n    document.documentElement.style.getPropertyValue(\"--clr-text-low\") ||\n    \"#879cb3\";\n  const data = {\n    labels: [\"Paid\", \"Unpaid\"],\n    datasets: [\n      {\n        label: \"My First Dataset\",\n        data: [paid, unpaid],\n        backgroundColor: [primaryColor, secondaryColor],\n        hoverOffset: 4,\n      },\n    ],\n  };\n  const options = {\n    responsive: true,\n    maintainAspectRatio: true,\n    plugins: {\n      legend: {\n        labels: {\n          color: primaryColor,\n        },\n      },\n    },\n  };\n  return <Pie options={options} data={data} />;\n};\n\nexport default Chart;\n","import InvoiceLi from \"../reusables/InvoiceLi.jsx\";\nconst LastFiveInvoices = ({\n  handleAdd,\n  navigate,\n  invoices,\n  companies,\n  setPage,\n  setInvoiceId,\n}) => {\n  return (\n    <section className=\"invoices card\">\n      <h2>\n        <span\n          onClick={() => {\n            navigate(\"/invoices\");\n          }}\n          style={{ cursor: \"pointer\" }}\n        >\n          Last 5 invoices\n        </span>\n        <button\n          type=\"button\"\n          id=\"invoiceAdd\"\n          onClick={handleAdd}\n          style={{ padding: \"0 .5rem\" }}\n        >\n          +\n        </button>\n      </h2>\n      <ul>\n        {invoices.length > 0 ? (\n          invoices.slice(0, 5).map((entry) => {\n            return (\n              <InvoiceLi\n                invoice={entry}\n                key={entry.id}\n                companies={companies}\n                setPage={setPage}\n                setInvoiceId={setInvoiceId}\n              />\n            );\n          })\n        ) : (\n          <li>\n            <div className=\"spinner-centerer\">\n              <div className=\"lds-dual-ring\"></div>\n            </div>\n          </li>\n        )}\n      </ul>\n    </section>\n  );\n};\nexport default LastFiveInvoices;\n","import { useNavigate } from \"react-router-dom\";\nimport { dateFormatter } from \"../../logic/dateFormatter\";\n\nfunction InvoiceLi({ invoice, companies }) {\n  let navigate = useNavigate();\n  let company = companies.find((company) => company.id === invoice.company);\n  let arrow = company.status === \"Customer\" ? \"down\" : \"up\";\n  return (\n    <li className={\"invoiceLi\"}>\n      <span className=\"svg\">\n        <i className={`fas fa-arrow-${arrow}`}></i>\n      </span>\n      <span\n        className=\"invoiceName\"\n        onClick={() => {\n          navigate(`/company/${company.id}`);\n        }}\n      >\n        {company.name}\n      </span>\n      <span\n        className=\"invoiceNumber\"\n        onClick={() => {\n          navigate(`/invoice/${invoice.id}`);\n        }}\n      >\n        {invoice.reference}\n      </span>\n      <span className=\"invoiceType\">{company.status}</span>\n      <span className=\"invoiceDate\">{dateFormatter(invoice.received)}</span>\n    </li>\n  );\n}\n\nexport default InvoiceLi;\n","const dateFormatter = (dateInput) => {\n  const dateOutput = `${dateInput.slice(8, 10)}-${dateInput.slice(\n    5,\n    7\n  )}-${dateInput.slice(0, 4)}`;\n  return dateOutput;\n};\nexport { dateFormatter };\n","import ContactLi from \"../reusables/ContactLi.jsx\";\nconst LastFiveContacts = ({ handleAdd, navigate, contacts, companies }) => {\n  return (\n    <section className=\"contacts card\">\n      <h2>\n        <span\n          onClick={() => {\n            navigate(\"/contacts\");\n          }}\n          style={{ cursor: \"pointer\" }}\n        >\n          Last 5 contacts\n        </span>\n        <button\n          type=\"button\"\n          id=\"contactAdd\"\n          onClick={handleAdd}\n          style={{ padding: \"0 .5rem\" }}\n        >\n          +\n        </button>\n      </h2>\n      <ul>\n        {contacts.length > 0 ? (\n          contacts.slice(0, 5).map((entry) => {\n            return (\n              <ContactLi contact={entry} key={entry.id} companies={companies} />\n            );\n          })\n        ) : (\n          <li>\n            <div className=\"spinner-centerer\">\n              <div className=\"lds-dual-ring\"></div>\n            </div>\n          </li>\n        )}\n      </ul>\n    </section>\n  );\n};\n\nexport default LastFiveContacts;\n","import { useNavigate } from \"react-router-dom\";\n\nfunction ContactLi({ contact, companies }) {\n  const navigate = useNavigate();\n  /* let company = companies.find(\n    (company) => company.id == contact.contactcompany \n  ); */\n  let company =\n    contact.companies.length === 0\n      ? \"No company yet\"\n      : contact.companies.length === 1\n      ? companies.find((el) => el.id === contact.companies[0])\n      : \"Multiple\";\n  return (\n    <li>\n      <span className=\"svg\">\n        <i className=\"fas fa-user\"></i>\n      </span>\n      <span\n        className=\"contactName\"\n        onClick={() => {\n          navigate(`/contact/${contact.id}`);\n        }}\n        style={{ cursor: \"pointer\" }}\n      >\n        {contact.firstname + \" \" + contact.lastname}\n      </span>\n      <span className=\"contactMail\">{contact.email}</span>\n      {typeof company === \"string\" ? (\n        <span\n          className=\"contactCompany\"\n          style={{ color: \"var(--clr-text-low)\" }}\n        >\n          {company}\n        </span>\n      ) : (\n        <span\n          className=\"contactCompany\"\n          onClick={() => {\n            navigate(`/company/${company.id}`);\n          }}\n          style={{ cursor: \"pointer\" }}\n        >\n          {company.name}\n        </span>\n      )}\n    </li>\n  );\n}\n\nexport default ContactLi;\n","import CompanyLi from \"../reusables/CompanyLi.jsx\";\n\nconst LastFiveCompanies = ({ handleAdd, navigate, companies }) => {\n  return (\n    <section className=\"companies card\">\n      <h2>\n        <span\n          onClick={() => {\n            navigate(\"/companies\");\n          }}\n          style={{ cursor: \"pointer\" }}\n        >\n          Last 5 companies\n        </span>\n        <button\n          type=\"button\"\n          id=\"companyAdd\"\n          onClick={handleAdd}\n          style={{ padding: \"0 .5rem\" }}\n        >\n          +\n        </button>\n      </h2>\n      <ul>\n        {companies.length > 0 ? (\n          companies.slice(0, 5).map((entry) => {\n            return <CompanyLi company={entry} key={entry.id} />;\n          })\n        ) : (\n          <li>\n            <div className=\"spinner-centerer\">\n              <div className=\"lds-dual-ring\"></div>\n            </div>\n          </li>\n        )}\n      </ul>\n    </section>\n  );\n};\n\nexport default LastFiveCompanies;\n","import { useNavigate } from \"react-router-dom\";\n\nfunction CompanyLi({ company }) {\n  let navigate = useNavigate();\n  return (\n    <li>\n      <span className=\"svg\">\n        <i className=\"fas fa-building\"></i>\n      </span>\n      <span\n        className=\"companyName\"\n        onClick={() => {\n          navigate(`/company/${company.id}`);\n        }}\n        style={{ cursor: \"pointer\" }}\n      >\n        {company.name}\n      </span>\n      <span className=\"companyType\">{company.status}</span>\n    </li>\n  );\n}\n\nexport default CompanyLi;\n"],"names":["$f2ad51572b81bdce$export$2e2bcd8739ae039","companies","invoices","contacts","setPage","setInvoiceId","navigate","$kYfAi","useNavigate","handleAdd","e","target","id","sort","a","b","Date","received","added","$7C6UD","jsxs","className","$54oWH","default","$h9QKB","$h0M1q","length","jsx","$h0V2j","$3jKM1","Chart","register","ArcElement","Tooltip","Legend","$f1fd8872f904167a$export$2e2bcd8739ae039","paid","unpaid","reduce","tally","invoice","paidStatus","primaryColor","document","documentElement","style","getPropertyValue","data","labels","datasets","label","backgroundColor","hoverOffset","options","responsive","maintainAspectRatio","plugins","legend","color","$5MDbd","Pie","$bc802b97cd572967$export$2e2bcd8739ae039","onClick","cursor","type","padding","slice","map","entry","$6KSGF","$101381ed84330fe6$export$2e2bcd8739ae039","company1","find","company","arrow","status","name","reference","$gXTmb","dateFormatter","$c59d18b9d58e05d0$export$406508d2ca449bd","dateInput","$8803544bb72d6421$export$2e2bcd8739ae039","$6Owxp","contact","$7cad66adf6fa2a6c$export$2e2bcd8739ae039","el","firstname","lastname","email","$eec2c1583b310d92$export$2e2bcd8739ae039","$6ZAgw","$050c7473682d57ea$export$2e2bcd8739ae039"],"version":3,"file":"Homepage.39d0057f.js.map"}
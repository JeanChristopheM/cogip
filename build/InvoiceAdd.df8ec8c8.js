function e(e,t,a,n){Object.defineProperty(e,t,{get:a,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire30d9;t.register("3TXCI",(function(a,n){var s;s=a.exports,Object.defineProperty(s,"__esModule",{value:!0,configurable:!0}),e(a.exports,"default",(()=>p));var r=t("7C6UD"),l=t("eCRxs"),o=t("9aCo1"),i=t("5H5kc"),c=t("4yknE"),d=t("eltSV"),u=t("lb0XH"),m=t("dv2Dk");var p=function({contacts:e,companies:t,categories:a,setIsLoaded:n,isAuth:s}){const[p,h]=l.useState(""),[f,g]=l.useState(""),[x,j]=l.useState(!1);return l.useEffect((()=>{const e=sessionStorage.getItem("cogipToast");if(!e)return;const t=e.split(",");m.toast[t[0]](t[1],{position:m.toast.POSITION.BOTTOM_RIGHT}),sessionStorage.removeItem("cogipToast")}),[x]),r.jsxs("main",{children:[r.jsxs("div",{className:"invoiceAdd card",children:[r.jsx("h2",{children:"Fill up the form"}),r.jsxs("form",{className:"invoiceForm",onSubmit:async e=>{e.preventDefault(),j(!0);const t={reference:e.target.reference.value,amount:parseInt(e.target.amount.value),company:p?p.id:null,contact:f?f.id:null,received:e.target.date.value,dueDate:e.target.dueDate.value,paidStatus:e.target.paid.checked,category:parseInt(e.target.category.value),due:e.target.paid.checked?0:parseInt(e.target.amount.value),paid:e.target.paid.checked?parseInt(e.target.amount.value):0};console.log(t);let a=i.invoiceVerify(t);if(a.ok){const{status:e,message:a,dataPackage:r}=await o.default("POST","https://csharpproject.somee.com/api/Invoice",s.jwt,t);j(!1),n(!1),200===e?sessionStorage.setItem("cogipToast","success,Success !"):sessionStorage.setItem("cogipToast",`error,${a}`)}else{j(!1);const e=Object.keys(a);setTimeout((()=>{for(let t of e)"ok"!==t&&m.toast.error(a[t],{position:m.toast.POSITION.BOTTOM_RIGHT})}),250)}},method:"post",children:[r.jsxs("div",{className:"formContent",children:[r.jsxs("fieldset",{children:[r.jsx("legend",{children:"Invoice details"}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"reference",children:"Reference : "}),r.jsx("input",{type:"text",name:"reference",minLength:"3",maxLength:"45",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"date",children:"Date of reception : "}),r.jsx("input",{type:"date",name:"date",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"company",children:"Company : "}),r.jsx(c.default,{companies:t,handleCompanyChange:e=>{h(e)},currentCompany:{name:""}})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"contact",children:"Contact : "}),r.jsx(d.default,{contacts:e,companies:t,selectedCompany:p,handleContactChange:e=>{g(e)},currentContact:{name:""},name:"company"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"category",children:"Category : "}),r.jsxs("select",{name:"category",id:"category",children:[r.jsx("option",{value:"",children:"Select a category"}),a?a.map((e=>r.jsx("option",{value:e.id,children:e.category},e.id))):null]})]})]}),r.jsxs("fieldset",{children:[r.jsx("legend",{children:"Payement"}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"amount",children:"Amount : "}),r.jsx("input",{type:"number",name:"amount",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"dueDate",children:"Due date : "}),r.jsx("input",{type:"date",name:"dueDate",required:!0})]}),r.jsxs("div",{children:[r.jsx("span",{children:"Paid status : "}),r.jsxs("label",{htmlFor:"paid",className:"switchToggle",children:[r.jsx("input",{type:"checkbox",name:"paid",id:"paid",className:"switchCheck"}),r.jsx("span",{className:"slider"})]})]})]})]}),r.jsx("button",{children:"Submit"})]}),r.jsx("div",{className:"formIllu",children:r.jsx(u.default,{})}),r.jsx(m.ToastContainer,{})]}),x?r.jsx("div",{className:"fetching dark",children:r.jsx("div",{className:"lds-dual-ring"})}):null]})}})),t.register("5H5kc",(function(t,a){e(t.exports,"invoiceVerify",(()=>n)),e(t.exports,"contactVerify",(()=>s)),e(t.exports,"companyVerify",(()=>r));const n=e=>{let t={};return e.reference||(t.reference="Please enter a reference"),e.company||(t.company="Please select a company"),e.amount||(t.amount="Please enter an amount"),e.received||(t.received="Please select a date"),!1!==e.paidStatus&&!0!==e.paidStatus&&(t.paid="Please select a paid status"),t.ok=!(Object.keys(t).length>0),t},s=e=>{let t={};return e.firstname||(t.firstname="Please enter a firstname"),e.lastname||(t.lastname="Please enter a lastname"),e.companies||(t.companies="Please select a contact"),e.email||(t.email="Please enter an email"),e.phonenumber||(t.phonenumber="Please enter a phone number"),t.ok=!(Object.keys(t).length>0),t},r=e=>{let t={};return e.name||(t.name="Please enter a name"),e.vat||(t.vat="Please enter a vat number"),e.town||(t.town="Please enter a town"),e.street||(t.street="Please enter a street"),e.streetnumber||(t.streetnumber="Please enter a street number"),e.country||(t.country="Please enter a country"),e.status||(t.status="Please select a status"),t.ok=!(Object.keys(t).length>0),t}})),t.register("4yknE",(function(a,n){e(a.exports,"default",(()=>r));var s=t("7C6UD");var r=function({companies:e,handleCompanyChange:t,currentCompany:a,name:n}){return s.jsxs("select",{onChange:a=>{let n=e.find((e=>e.name==a.target.value))?e.find((e=>e.name==a.target.value)):"";t(n)},defaultValue:a.name,name:n,required:!0,children:[s.jsx("option",{value:"",children:"Select a company"}),e.map((e=>s.jsx("option",{value:e.name,children:e.name},e.id)))]})}}));
//# sourceMappingURL=InvoiceAdd.df8ec8c8.js.map

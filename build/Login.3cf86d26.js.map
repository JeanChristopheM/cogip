{"mappings":"meA+GAA,YArGgBC,QAACA,EAAOC,OAAEA,EAAMC,SAAEA,IAChC,MAAOC,EAAYC,GAAiBC,EAAAC,UAAS,GACvCC,EAAgBF,EAAAG,OAAO,MACvBC,EAAWJ,EAAAG,OAAO,MAClBE,EAAgBL,EAAAG,OAAO,MACvBG,EAAWC,EAAAC,eACVC,EAAWC,GAAgBV,EAAAC,SAAS,IAsD3C,OArDAD,EAAAW,WAAS,KACPD,EAAa,YACZ,IAmDGE,EAAAC,KACH,OAAI,CAACC,UAAS,SAAWL,oBACvBM,EAAAC,QAAI,CAACC,YAAa,KAAMC,YAAa,CAAEC,OAAQ,kBAC/C,OAAI,CAACL,UAAU,iBAAiBM,OAAO,uBACrC,KAAE,UAAC,gBACH,QAAK,CACJC,IAAKnB,EACLoB,KAAK,OACLC,YAAY,aACZT,UAAU,aACVU,WAAS,UAEV,QAAK,CACJH,IAAKjB,EACLkB,KAAK,WACLC,YAAY,aACZT,UAAU,sBAEX,QAAK,CAACW,QAAQ,gBAAgBX,UAAU,6BACtC,QAAK,CACJY,KAAK,gBACLC,GAAG,gBACHL,KAAK,WACLD,IAAKhB,IACL,uBAGH,SAAM,CAACsB,GAAG,cAAcC,QA3EdC,MAAUC,IACzBA,EAAEC,iBACFhC,GAAc,GAEd,MAAMiC,EAAeC,IACnB,IAAKA,EAAMC,MAMT,OALAnC,GAAc,GACdkC,EAAME,UAAUC,IAAI,mBACpBC,YAAU,KACRJ,EAAME,UAAUG,OAAO,qBACtB,MACI,GAGX,GAAIN,EAAY9B,EAAcqC,UAAYP,EAAY5B,EAASmC,SAC7D,OACF,MAEMC,EAAO,CAAEC,SAFEvC,EAAcqC,QAAQL,MAEJQ,SADvBtC,EAASmC,QAAQL,QAGtBS,OAACA,EAAMC,QAAEA,EAAOC,YAAEA,SAAsBC,EAAA9B,QAC7C,OACA,iDACA,KACAwB,GAEFzC,GAAc,GAEC,MAAX4C,EACFN,YAAU,KACRU,EAAAC,MAAMC,MAAML,EAAS,CACnBM,SAAUH,EAAAC,MAAMG,SAASC,iBAE1B,MAEC/C,EAAckC,QAAQc,SACxBC,aAAaC,QAAQ,YAAaC,KAAKC,UAAUZ,IAEnDa,eAAeH,QAAQ,YAAaC,KAAKC,UAAUZ,IACnDnC,EAAa,UACb2B,YAAU,KACR1C,EAAQkD,GACRvC,EAAST,EAAS8D,YACjB,gBAgC8C,eAIhD7D,EAAUc,EAAAgD,IACR,MAAG,CAAC9C,UAAU,+BACZ,MAAG,CAACA,UAAU,oBAEf,WACHiC,EAAAc,eAAc","sources":["src/components/Login.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport handleRequests from \"../logic/handleRequests.js\";\nimport Logo from \"./reusables/Logo.jsx\";\n\n// toaster\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n// end toaster\n\nfunction Login({ setAuth, isAuth, location }) {\n  const [isFetching, setIsFetching] = useState(false);\n  const usernameInput = useRef(null);\n  const pwdInput = useRef(null);\n  const rememberInput = useRef(null);\n  const navigate = useNavigate();\n  const [isShowing, setIsShowing] = useState(\"\");\n  useEffect(() => {\n    setIsShowing(\"appear\");\n  }, []);\n\n  //. Login Button Handler.\n  const onAuthClick = async (e) => {\n    e.preventDefault();\n    setIsFetching(true);\n    //* Safe guard if a field is empty\n    const exitIfEmpty = (input) => {\n      if (!input.value) {\n        setIsFetching(false);\n        input.classList.add(\"blinkInputEmpty\");\n        setTimeout(() => {\n          input.classList.remove(\"blinkInputEmpty\");\n        }, 500);\n        return true;\n      }\n    };\n    if (exitIfEmpty(usernameInput.current) || exitIfEmpty(pwdInput.current))\n      return;\n    const username = usernameInput.current.value;\n    const pwd = pwdInput.current.value;\n    const data = { userName: username, password: pwd };\n    //* Making the request .\n    const { status, message, dataPackage } = await handleRequests(\n      \"POST\",\n      \"https://csharpproject.somee.com/api/Auth/login\",\n      null,\n      data\n    );\n    setIsFetching(false);\n    //* Handling the response .\n    if (status !== 200) {\n      setTimeout(() => {\n        toast.error(message, {\n          position: toast.POSITION.BOTTOM_RIGHT,\n        });\n      }, 250);\n    } else {\n      if (rememberInput.current.checked) {\n        localStorage.setItem(\"cogipAuth\", JSON.stringify(dataPackage));\n      }\n      sessionStorage.setItem(\"cogipAuth\", JSON.stringify(dataPackage));\n      setIsShowing(\"begone\");\n      setTimeout(() => {\n        setAuth(dataPackage);\n        navigate(location.pathname);\n      }, 1000);\n    }\n  };\n\n  //. JSX .\n  return (\n    <main className={`login ${isShowing}`}>\n      <Logo handleClick={null} handleStyle={{ height: \"10rem\" }} />\n      <form className=\"loginForm card\" method=\"post\">\n        <h2>Login</h2>\n        <input\n          ref={usernameInput}\n          type=\"text\"\n          placeholder=\"Username :\"\n          className=\"loginInput\"\n          autoFocus\n        />\n        <input\n          ref={pwdInput}\n          type=\"password\"\n          placeholder=\"Password :\"\n          className=\"loginInput\"\n        />\n        <label htmlFor=\"rememberCheck\" className=\"rememberMe\">\n          <input\n            name=\"rememberCheck\"\n            id=\"rememberCheck\"\n            type=\"checkbox\"\n            ref={rememberInput}\n          />\n          Remember me\n        </label>\n        <button id=\"auth-button\" onClick={onAuthClick}>\n          Confirm\n        </button>\n      </form>\n      {isFetching ? (\n        <div className=\"fetching dark\">\n          <div className=\"lds-dual-ring\"></div>\n        </div>\n      ) : null}\n      <ToastContainer />\n    </main>\n  );\n}\n\nexport default Login;\n"],"names":["$19fef11b8b03a877$export$2e2bcd8739ae039","setAuth","isAuth","location","isFetching","setIsFetching","$eCRxs","useState","usernameInput","useRef","pwdInput","rememberInput","navigate","$kYfAi","useNavigate","isShowing","setIsShowing","useEffect","$7C6UD","jsxs","className","$hIpxR","default","handleClick","handleStyle","height","method","ref","type","placeholder","autoFocus","htmlFor","name","id","onClick","async","e","preventDefault","exitIfEmpty","input","value","classList","add","setTimeout","remove","current","data","userName","password","status","message","dataPackage","$9aCo1","$dv2Dk","toast","error","position","POSITION","BOTTOM_RIGHT","checked","localStorage","setItem","JSON","stringify","sessionStorage","pathname","jsx","ToastContainer"],"version":3,"file":"Login.3cf86d26.js.map"}
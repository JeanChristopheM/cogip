function e(e,s,a,c){Object.defineProperty(e,s,{get:a,set:c,enumerable:!0,configurable:!0})}var s=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire30d9;s.register("jyoVq",(function(a,c){var o;o=a.exports,Object.defineProperty(o,"__esModule",{value:!0,configurable:!0}),e(a.exports,"default",(()=>u));var l=s("7C6UD"),i=s("eCRxs"),r=s("kYfAi"),t=s("3NGAg"),n=s("bjE0N"),d=s("gXTmb"),m=s("dv2Dk");var u=function({invoices:e,contacts:s,companies:a}){i.useEffect((()=>{const e=sessionStorage.getItem("cogipToast");e&&(m.toast.success(e,{position:m.toast.POSITION.BOTTOM_RIGHT}),sessionStorage.removeItem("cogipToast"))}),[]);const c=r.useNavigate(),o=i.useMemo((()=>{let c=[];for(let o of e){const e=a.find((e=>e.id==o.company)),i=s.find((e=>e.id==o.contact))?s.find((e=>e.id==o.contact)):null;let r="Customer"===e.status?"down":"up",t={icon:l.jsx("i",{className:`fas fa-arrow-${r}`}),col1:o.reference,col2:`${o.amount}€`,col3:`${o.paid}€`,col4:`${o.due}€`,col5:e.name,col6:i?`${i.firstname} ${i.lastname}`:"None",col7:d.dateFormatter(o.received),col8:o.paidStatus?"Paid":"To be paid",id:o.id};c.push(t)}return c}),[e]),u=i.useMemo((()=>[{Header:"",accessor:"icon",className:"invoiceIcon",disableSortBy:!0,disableFilters:!0},{Header:"Reference",accessor:"col1",className:"invoiceReference",disableFilters:!0},{Header:"Amount",accessor:"col2",className:"invoiceAmount",disableFilters:!0},{Header:"Paid",accessor:"col3",className:"invoicePaid",disableFilters:!0},{Header:"Due",accessor:"col4",className:"invoiceDue",disableFilters:!0},{Header:"Company",accessor:"col5",className:"invoiceCompany",Filter:n.default,filter:"includes"},{Header:"Contact",accessor:"col6",className:"invoiceContact",Filter:n.default,filter:"includes"},{Header:"Received",accessor:"col7",className:"invoiceReceived",disableFilters:!0},{Header:"Status",accessor:"col8",className:"invoicePaidStatus",Filter:n.default,filter:"includes"},{Header:"ID",accessor:"id",className:"contactId",disableFilters:!0}]),[e]),{getTableProps:f,getTableBodyProps:p,headerGroups:b,rows:g,prepareRow:N}=t.useTable({columns:u,data:o,initialState:{sortBy:[{id:"col1",desc:!1}],hiddenColumns:["id"]}},t.useFilters,t.useSortBy);return l.jsxs("main",{children:[l.jsxs("section",{className:"invoices card",children:[l.jsxs("h2",{children:["Invoices",l.jsx("button",{type:"button",id:"invoiceAdd",onClick:e=>{c(`/${e.target.id}`)},style:{padding:"0 .5rem"},children:"+"})]}),l.jsxs("table",{className:"table",...f(),children:[l.jsxs("thead",{children:[b.map((e=>l.jsx("tr",{...e.getHeaderGroupProps(),children:e.headers.map((e=>l.jsx("th",{...e.getHeaderProps(e.getSortByToggleProps({className:e.className})),children:l.jsxs("div",{className:"thContainer",children:[e.render("Header"),l.jsx("span",{children:e.isSorted?e.isSortedDesc?l.jsx("i",{className:"fas fa-arrow-alt-circle-up sorted"}):l.jsx("i",{className:"fas fa-arrow-alt-circle-down sorted"}):l.jsx("i",{className:"fas fa-arrow-alt-circle-down unSorted"})})]})})))}))),b.map((e=>l.jsx("tr",{...e.getHeaderGroupProps(),className:"filtersRow",children:e.headers.map((e=>l.jsx("th",{...e.getHeaderProps({className:e.className}),children:l.jsx("div",{className:"filterContainer",children:e.canFilter?e.render("Filter"):null})},e.id)))})))]}),l.jsx("tbody",{...p(),children:g.map((e=>(N(e),l.jsx("tr",{...e.getRowProps(),children:e.cells.map((e=>l.jsx("td",{...e.getCellProps({className:e.column.className}),onClick:()=>{((e,o,l,i)=>{switch(e){case"Contact":"None"!==o&&c(`/contact/${s.find((e=>`${e.firstname} ${e.lastname}`==o)).id}`);break;case"Company":c(`/company/${a.find((e=>e.name==l)).id}`);break;case"Reference":c(`/invoice/${i}`)}})(e.column.Header,e.row.allCells[6].value,e.row.allCells[5].value,e.row.allCells[9].value)},children:e.render("Cell")})))}))))})]})]}),l.jsx(m.ToastContainer,{})]})}})),s.register("gXTmb",(function(s,a){e(s.exports,"dateFormatter",(()=>c));const c=e=>`${e.slice(8,10)}-${e.slice(5,7)}-${e.slice(0,4)}`}));
//# sourceMappingURL=Invoices.a57dbee8.js.map

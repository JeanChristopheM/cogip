{"mappings":"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","sources":["src/components/settings/Settings.jsx","src/components/settings/SettingsMenu.jsx","src/components/settings/UsersSettings.jsx","src/components/settings/AccountSettings.jsx","src/components/settings/ThemeSettings.jsx","src/logic/hooks.js"],"sourcesContent":["import { useState } from \"react\";\nimport SettingsMenu from \"./SettingsMenu.jsx\";\nimport UsersSettings from \"./UsersSettings.jsx\";\nimport AccountSettings from \"./AccountSettings.jsx\";\nimport ThemeSettings from \"./ThemeSettings.jsx\";\nconst Settings = ({ isAuth }) => {\n  const [selectedPage, setSelectedPage] = useState(0);\n  const choices = [\n    <UsersSettings isAuth={isAuth} />,\n    <AccountSettings isAuth={isAuth} />,\n    <ThemeSettings />,\n  ];\n  return (\n    <main>\n      <SettingsMenu setSelectedPage={setSelectedPage} isAuth={isAuth} />\n      {choices[selectedPage]}\n    </main>\n  );\n};\nexport default Settings;\n","import { useState, useRef, useLayoutEffect } from \"react\";\n\nconst SettingsMenu = ({ setSelectedPage, isAuth }) => {\n  const [active, setActive] = useState(() => {\n    return isAuth.role === \"Admin\" ? 0 : 1;\n  });\n  const [bgStyle, setBgStyle] = useState({\n    width: \"0px\",\n    transform: `translate(0px, 0px)`,\n  });\n\n  const firstLiRef = useRef();\n  const backgroundRef = useRef();\n  useLayoutEffect(() => {\n    setBgStyle({\n      width: document.getElementById(active).getBoundingClientRect().width,\n      transform: `translate(${\n        document.getElementById(active).getBoundingClientRect().x -\n        firstLiRef.current.getBoundingClientRect().x\n      }px, 0px)`,\n    });\n    setSelectedPage(active);\n  }, [active]);\n  const changeActive = (e) => {\n    const id = e.target.id;\n    setActive(id);\n  };\n  return (\n    <nav className={\"settingsSubmenu\"}>\n      {isAuth.role === \"Admin\" ? (\n        <ul>\n          <li\n            className={active == 0 ? \"active\" : null}\n            ref={firstLiRef}\n            id={\"0\"}\n            onClick={changeActive}\n          >\n            Users\n          </li>\n          <li\n            className={active == 1 ? \"active\" : null}\n            id={\"1\"}\n            onClick={changeActive}\n          >\n            Account\n          </li>\n          <li\n            className={active == 2 ? \"active\" : null}\n            id={\"2\"}\n            onClick={changeActive}\n          >\n            Theme\n          </li>\n          <li className={\"background\"} ref={backgroundRef} style={bgStyle}></li>\n        </ul>\n      ) : (\n        <ul>\n          <li\n            ref={firstLiRef}\n            className={active == 1 ? \"active\" : null}\n            id={\"1\"}\n            onClick={changeActive}\n          >\n            Account\n          </li>\n          <li\n            className={active == 2 ? \"active\" : null}\n            id={\"2\"}\n            onClick={changeActive}\n          >\n            Theme\n          </li>\n          <li className={\"background\"} ref={backgroundRef} style={bgStyle}></li>\n        </ul>\n      )}\n    </nav>\n  );\n};\nexport default SettingsMenu;\n","import handleRequests from \"../../logic/handleRequests\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { ToastContainer, toast } from \"react-toastify\";\n\n//. COMPONENT .\nconst UsersSettings = ({ isAuth }) => {\n  const navigate = useNavigate();\n  const [users, setUsers] = useState([]);\n  const [isDeleting, setIsDeleting] = useState(false);\n  //. INIT effect .\n  useEffect(() => {\n    getUsers();\n  }, []);\n  //* Fetcher function .\n  const getUsers = async () => {\n    const data = await handleRequests(\n      \"GET\",\n      \"https://csharpproject.somee.com/api/Auth/users\",\n      isAuth.jwt\n    );\n    setUsers(data.dataPackage);\n  };\n  //* Handle click on user options .\n  const handleOptionsClick = (e) => {\n    document\n      .querySelectorAll(\".userCard.active\")\n      .forEach((el) => el.classList.remove(\"active\"));\n    e.target.parentNode.classList.add(\"active\");\n  };\n  const handleOptionsCancel = (e) => {\n    e.target.parentNode.parentNode.classList.remove(\"active\");\n  };\n  //* Handle click on edit & delete btns\n  const handleUserEdit = (e) => {\n    const userId = e.target.parentNode.parentNode.id;\n    navigate(`/userEdit/${userId}`);\n  };\n  const handleUserDelete = async (e) => {\n    const userId = e.target.parentNode.parentNode.parentNode.id;\n    console.log(`User ${userId}`);\n    try {\n      const { status, message, dataPackage } = await handleRequests(\n        \"DELETE\",\n        `https://csharpproject.somee.com/api/Auth/user/${userId}`,\n        isAuth.jwt\n      );\n      if (status === 200) toast.success(message);\n      else toast.error(message);\n    } catch (e) {\n      console.log(e);\n    }\n    setIsDeleting(false);\n    getUsers();\n  };\n  //* Handle click on add user .\n  const handleAdd = () => {\n    navigate(\"/userAdd\");\n  };\n  //. JSX .\n  return (\n    <div className=\"settings__users\">\n      <div className=\"users card\">\n        <h2 className=\"settings__users--title\">\n          Users\n          <button\n            type=\"button\"\n            id=\"userAdd\"\n            onClick={handleAdd}\n            style={{ padding: \"0 .5rem\" }}\n          >\n            +\n          </button>\n        </h2>\n        <div className=\"usersContainer\">\n          {users.length === 0 ? (\n            <div className=\"fetcherHolder\">\n              <div className=\"lds-dual-ring\"></div>\n            </div>\n          ) : (\n            users.map((user, index) => {\n              const colors = (index) => {\n                let colorIndex = index % 4;\n                let colorArray = [\"#61C9A8\", \"#ED9B40\", \"#BA3B46\", \"#508991\"];\n                return colorArray[colorIndex];\n              };\n              return (\n                <div key={user.id} id={user.id} className=\"userCard\">\n                  <figure className=\"imageContainer\">\n                    <div\n                      className=\"img\"\n                      style={{ backgroundColor: colors(index) }}\n                    >\n                      <span className=\"img--text\">\n                        {user.firstname.slice(0, 1).toUpperCase()}\n                        {user.lastname.slice(0, 1).toUpperCase()}\n                      </span>\n                    </div>\n                  </figure>\n                  <span className=\"name\">\n                    {user.firstname} {user.lastname}\n                  </span>\n                  <span className=\"username\">@{user.userName}</span>\n                  <span className=\"email\">{user.email}</span>\n                  <span className=\"userType\">{user.userType}</span>\n                  <i\n                    className=\"fas fa-ellipsis-v options\"\n                    onClick={handleOptionsClick}\n                  ></i>\n                  <div className=\"userCardBack\">\n                    <button type=\"button\" id=\"editBtn\" onClick={handleUserEdit}>\n                      Edit user\n                    </button>\n                    {isDeleting ? (\n                      <div className=\"confirmationDelete\">\n                        <button\n                          type=\"button\"\n                          id=\"confirmDelete\"\n                          onClick={handleUserDelete}\n                        >\n                          Confirm\n                        </button>\n                        <button\n                          type=\"button\"\n                          id=\"cancelDelete\"\n                          onClick={() => setIsDeleting(false)}\n                        >\n                          Cancel\n                        </button>\n                      </div>\n                    ) : (\n                      <button\n                        type=\"button\"\n                        id=\"deleteBtn\"\n                        onClick={() => setIsDeleting(true)}\n                      >\n                        Delete user\n                      </button>\n                    )}\n\n                    <i\n                      className=\"fas fa-ellipsis-v options\"\n                      onClick={handleOptionsCancel}\n                    ></i>\n                  </div>\n                </div>\n              );\n            })\n          )}\n        </div>\n      </div>\n      <ToastContainer />\n    </div>\n  );\n};\nexport default UsersSettings;\n","const AccountSettings = ({ isAuth }) => {\n  return (\n    <div className=\"card\">\n      <h2>You : </h2>\n      <br />\n      <p>Username : {isAuth.name}</p>\n      <p>Role : {isAuth.role}</p>\n    </div>\n  );\n};\nexport default AccountSettings;\n","import { useEffect, useState } from \"react\";\nimport { useLocalState } from \"../../logic/hooks\";\nimport { themes, switchTheme } from \"../../logic/theme\";\n\nconst ThemeSettings = () => {\n  const [currentTheme, setCurrentTheme] = useLocalState(\n    \"cogipTheme\",\n    themes.original\n  );\n  const handleClick = (e) => {\n    const target = e.target;\n    setCurrentTheme(themes[target.id]);\n  };\n  useEffect(() => {\n    switchTheme(currentTheme);\n  }, [currentTheme]);\n  return (\n    <div className=\"settings__themes card\">\n      <h2 className=\"settings__themes--title\">Theme settings</h2>\n      <div className=\"themeContainer\">\n        <div\n          className=\"themeCard\"\n          id=\"original\"\n          onClick={handleClick}\n          style={{ cursor: \"pointer\" }}\n        >\n          Original :\n          <div className=\"themeCard__colors\">\n            <div className=\"primary\">\n              <h3>Title</h3>\n              <p>Text</p>\n              <p id=\"lighterText\">Lighter Text</p>\n            </div>\n          </div>\n        </div>\n        <div\n          className=\"themeCard\"\n          id=\"dark\"\n          onClick={handleClick}\n          style={{ cursor: \"pointer\" }}\n        >\n          Dark :\n          <div className=\"themeCard__colors\">\n            <div className=\"primary\">\n              <h3>Title</h3>\n              <p>Text</p>\n              <p id=\"lighterText\">Lighter Text</p>\n            </div>\n          </div>\n        </div>\n        <div\n          className=\"themeCard\"\n          id=\"salmon\"\n          onClick={handleClick}\n          style={{ cursor: \"pointer\" }}\n        >\n          Salmon :\n          <div className=\"themeCard__colors\">\n            <div className=\"primary\">\n              <h3>Title</h3>\n              <p>Text</p>\n              <p id=\"lighterText\">Lighter Text</p>\n            </div>\n          </div>\n        </div>\n        <div\n          className=\"themeCard\"\n          id=\"forest\"\n          onClick={handleClick}\n          style={{ cursor: \"pointer\" }}\n        >\n          Forest :\n          <div className=\"themeCard__colors\">\n            <div className=\"primary\">\n              <h3>Title</h3>\n              <p>Text</p>\n              <p id=\"lighterText\">Lighter Text</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default ThemeSettings;\n","import { useState, useEffect } from \"react\";\n\nconst useLocalState = (key, initialValue) => {\n  const saved = localStorage.getItem(key);\n  const value = saved ? JSON.parse(saved) : null;\n  const [theme, setTheme] = useState(value || initialValue);\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(theme));\n  }, [key, theme]);\n  return [theme, setTheme];\n};\nexport { useLocalState };\n"],"names":["$86e11851daacce71$export$2e2bcd8739ae039","isAuth","selectedPage","setSelectedPage","$eCRxs","useState","choices","$9TyyI","default","$9Gf2w","$i0lCb","$7C6UD","jsxs","$fH21S","$a6adc737ca745c91$export$2e2bcd8739ae039","active","setActive","role","bgStyle","setBgStyle","width","transform","firstLiRef","useRef","backgroundRef","useLayoutEffect","document","getElementById","getBoundingClientRect","x","current","changeActive","e","id","target","jsx","className","ref","onClick","style","$cc69bb54d36b74d8$export$2e2bcd8739ae039","navigate","$kYfAi","useNavigate","users","setUsers","isDeleting","setIsDeleting","useEffect","getUsers","async","data","$9aCo1","jwt","dataPackage","handleOptionsClick","querySelectorAll","forEach","el","classList","remove","parentNode","add","handleOptionsCancel","handleUserEdit","userId","handleUserDelete","console","log","status","message","$dv2Dk","toast","success","error","e1","type","padding","length","map","user","index1","backgroundColor","index","firstname","slice","toUpperCase","lastname","userName","email","userType","ToastContainer","$34fa347b54186f73$export$2e2bcd8739ae039","name","$249c405b396a8a70$export$2e2bcd8739ae039","currentTheme","setCurrentTheme","$g9PIs","useLocalState","$34kEx","themes","original","handleClick","switchTheme","cursor","$bc359a5a3cf7f4dd$export$e4a07dee2868ff9d","key","initialValue","saved","localStorage","getItem","value","JSON","parse","theme","setTheme","setItem","stringify"],"version":3,"file":"Settings.38451761.js.map"}
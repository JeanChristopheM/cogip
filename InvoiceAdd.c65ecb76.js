function e(e,t,a,n){Object.defineProperty(e,t,{get:a,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire30d9;t.register("3TXCI",(function(a,n){var s;s=a.exports,Object.defineProperty(s,"__esModule",{value:!0,configurable:!0}),e(a.exports,"default",(()=>u));var r=t("7C6UD"),c=t("eCRxs"),i=t("9aCo1"),o=t("5H5kc"),l=t("4yknE"),d=t("eltSV"),m=t("dv2Dk");var u=function({contacts:e,companies:t,setIsLoaded:a,isAuth:n}){const[s,u]=c.useState(""),[p,f]=c.useState(""),[h,g]=c.useState(!1);return c.useEffect((()=>{const e=sessionStorage.getItem("cogipToast");if(!e)return;const t=e.split(",");m.toast[t[0]](t[1],{position:m.toast.POSITION.BOTTOM_RIGHT}),sessionStorage.removeItem("cogipToast")}),[h]),r.jsxs("main",{children:[r.jsxs("div",{className:"card",children:[r.jsx("h2",{children:"Fill up the form"}),r.jsxs("form",{className:"invoiceForm",onSubmit:async t=>{t.preventDefault(),g(!0);const r=e.find((e=>`${e.firstname} ${e.lastname}`==p)),c={reference:t.target.reference.value,amount:t.target.amount.value,company:s.id.toString(),contact:r.id.toString(),received:t.target.date.value,paid:t.target.paid.checked};let l=o.invoiceVerify(c);if(l.ok){const{status:e,message:t,dataPackage:s}=await i.default("POST","https://csharpproject.somee.com/api/Invoice",n.jwt,c);g(!1),a(!1),200===e?sessionStorage.setItem("cogipToast","success,Success !"):sessionStorage.setItem("cogipToast",`error,${t}`)}else{g(!1);const e=Object.keys(l);setTimeout((()=>{for(let t of e)"ok"!==t&&m.toast.error(l[t],{position:m.toast.POSITION.BOTTOM_RIGHT})}),250)}},children:[r.jsxs("ul",{children:[r.jsxs("li",{children:[r.jsx("span",{children:"Reference : "}),r.jsx("input",{type:"text",name:"reference",minLength:"3",maxLength:"45",required:!0})]}),r.jsxs("li",{children:[r.jsx("span",{children:"Company : "}),r.jsx(l.default,{companies:t,handleCompanyChange:e=>{u(e)},currentCompany:{name:""}})]}),r.jsxs("li",{children:[r.jsx("span",{children:"Contact : "}),r.jsx(d.default,{contacts:e,companies:t,selectedCompany:s,handleContactChange:e=>{f(e)},currentContact:{name:""},name:"company"})]}),r.jsxs("li",{children:[r.jsx("span",{children:"Date of reception : "}),r.jsx("input",{type:"date",name:"date",required:!0})]}),r.jsxs("li",{children:[r.jsx("span",{children:"Amount : "}),r.jsx("input",{type:"number",name:"amount",required:!0})]}),r.jsxs("li",{children:[r.jsx("span",{children:"Paid status : "}),r.jsxs("label",{htmlFor:"paid",className:"switchToggle",children:[r.jsx("input",{type:"checkbox",name:"paid",id:"paid",className:"switchCheck"}),r.jsx("span",{className:"slider"})]})]})]}),r.jsx("button",{children:"Submit"})]}),r.jsx(m.ToastContainer,{})]}),h?r.jsx("div",{className:"fetching dark",children:r.jsx("div",{className:"lds-dual-ring"})}):null]})}})),t.register("5H5kc",(function(t,a){e(t.exports,"invoiceVerify",(()=>n)),e(t.exports,"contactVerify",(()=>s)),e(t.exports,"companyVerify",(()=>r));const n=e=>{let t={};return e.reference||(t.reference="Please enter a reference"),e.company||(t.company="Please select a company"),e.amount||(t.amount="Please enter an amount"),e.contact||(t.contact="Please select a contact"),e.received||(t.received="Please select a date"),!1!==e.paid&&!0!==e.paid&&(t.paid="Please select a paid status"),t.ok=!(Object.keys(t).length>0),t},s=e=>{let t={};return e.firstname||(t.firstname="Please enter a firstname"),e.lastname||(t.lastname="Please enter a lastname"),e.contactcompany||(t.contactcompany="Please select a contact"),e.email||(t.email="Please enter an email"),e.phonenumber||(t.phonenumber="Please enter a phone number"),t.ok=!(Object.keys(t).length>0),t},r=e=>{let t={};return e.name||(t.name="Please enter a name"),e.vat||(t.vat="Please enter a vat number"),e.status||(t.status="Please select a status"),t.ok=!(Object.keys(t).length>0),t}})),t.register("4yknE",(function(a,n){e(a.exports,"default",(()=>r));var s=t("7C6UD");var r=function({companies:e,handleCompanyChange:t,currentCompany:a,name:n}){return s.jsxs("select",{onChange:a=>{let n=e.find((e=>e.name==a.target.value))?e.find((e=>e.name==a.target.value)):"";t(n)},defaultValue:a.name,name:n,required:!0,children:[s.jsx("option",{value:"",children:"Select a company"}),e.map((e=>s.jsx("option",{value:e.name,children:e.name},e.id)))]})}})),t.register("eltSV",(function(a,n){e(a.exports,"default",(()=>r));var s=t("7C6UD");var r=function({contacts:e,selectedCompany:t,currentContact:a,handleContactChange:n}){return s.jsxs("select",{onChange:e=>{n(e.target.value)},defaultValue:`${a.firstname} ${a.lastname}`,required:!0,children:[s.jsx("option",{value:"",children:""==t?"Select a company first":"Select a contact"}),e.map((e=>{if(""!=t)return t.id==e.contactcompany?s.jsx("option",{value:`${e.firstname} ${e.lastname}`,children:`${e.firstname} ${e.lastname}`},e.id):void 0}))]})}}));
//# sourceMappingURL=InvoiceAdd.c65ecb76.js.map

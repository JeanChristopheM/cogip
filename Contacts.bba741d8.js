function e(e,s,a,t){Object.defineProperty(e,s,{get:a,set:t,enumerable:!0,configurable:!0})}var s=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire30d9;s.register("jZn5R",(function(a,t){var l;l=a.exports,Object.defineProperty(l,"__esModule",{value:!0,configurable:!0}),e(a.exports,"default",(()=>p));var r=s("7C6UD"),o=s("eCRxs"),c=s("kYfAi"),n=s("3NGAg"),i=s("bjE0N"),d=s("gXTmb"),m=s("dv2Dk");var p=function({contacts:e,companies:s}){o.useEffect((()=>{const e=sessionStorage.getItem("cogipToast");e&&(m.toast.success(e,{position:m.toast.POSITION.BOTTOM_RIGHT}),sessionStorage.removeItem("cogipToast"))}),[]);const a=c.useNavigate(),t=o.useMemo((()=>{let a=[];for(let t of e){let e={icon:r.jsx("i",{className:"fas fa-user"}),col1:`${t.firstname} ${t.lastname}`,col2:t.email,col3:t.phonenumber,col4:0===t.companies.length?"None":1===t.companies.length?s.find((e=>e.id==t.companies[0])).name:"Multiple",col5:d.dateFormatter(t.added),id:t.id};a.push(e)}return a}),[e]),l=o.useMemo((()=>[{Header:"",accessor:"icon",className:"contactIcon",disableSortBy:!0,disableFilters:!0},{Header:"Name",accessor:"col1",className:"contactName",disableFilters:!0},{Header:"Email",accessor:"col2",className:"contactEmail",disableFilters:!0},{Header:"Phone number",accessor:"col3",className:"contactPhonenumber",disableFilters:!0},{Header:"Company",accessor:"col4",className:"contactContactcompany",Filter:i.default,filter:"includes"},{Header:"Added",accessor:"col5",className:"contactAdded",disableFilters:!0},{Header:"ID",accessor:"id",className:"contactId",disableFilters:!0}]),[e]),{getTableProps:p,getTableBodyProps:u,headerGroups:f,rows:h,prepareRow:g}=n.useTable({columns:l,data:t,initialState:{sortBy:[{id:"col1",desc:!1}],hiddenColumns:["id"]}},n.useFilters,n.useSortBy);return r.jsxs("main",{children:[r.jsxs("section",{className:"contacts card",children:[r.jsxs("h2",{children:["Contacts",r.jsx("button",{type:"button",id:"contactAdd",onClick:e=>{a(`/${e.target.id}`)},style:{padding:"0 .5rem"},children:"+"})]}),r.jsxs("table",{className:"table",...p(),children:[r.jsxs("thead",{children:[f.map((e=>r.jsx("tr",{...e.getHeaderGroupProps(),children:e.headers.map((e=>r.jsx("th",{...e.getHeaderProps(e.getSortByToggleProps({className:e.className})),children:r.jsxs("div",{className:"thContainer",children:[e.render("Header"),r.jsx("span",{children:e.isSorted?e.isSortedDesc?r.jsx("i",{className:"fas fa-arrow-alt-circle-up sorted"}):r.jsx("i",{className:"fas fa-arrow-alt-circle-down sorted"}):r.jsx("i",{className:"fas fa-arrow-alt-circle-down unSorted"})})]})})))}))),f.map((e=>r.jsx("tr",{...e.getHeaderGroupProps(),className:"filtersRow",children:e.headers.map((e=>r.jsx("th",{...e.getHeaderProps({className:e.className}),children:r.jsx("div",{className:"filterContainer",children:e.canFilter?e.render("Filter"):null})},e.id)))})))]}),r.jsx("tbody",{...u(),children:h.map((e=>(g(e),r.jsx("tr",{...e.getRowProps(),children:e.cells.map((e=>r.jsx("td",{...e.getCellProps({className:e.column.className}),onClick:()=>{((e,t,l)=>{switch(e){case"Name":a(`/contact/${t}`);break;case"Company":a(`/company/${s.find((e=>e.name==l)).id}`)}})(e.column.Header,e.row.allCells[6].value,e.row.allCells[4].value)},children:e.render("Cell")})))}))))})]})]}),r.jsx(m.ToastContainer,{})]})}})),s.register("gXTmb",(function(s,a){e(s.exports,"dateFormatter",(()=>t));const t=e=>`${e.slice(8,10)}-${e.slice(5,7)}-${e.slice(0,4)}`}));
//# sourceMappingURL=Contacts.bba741d8.js.map
